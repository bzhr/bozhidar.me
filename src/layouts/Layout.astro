---
import '@fontsource/inter/400.css';
import '@fontsource/inter/700.css';
import '../styles/links.css';
import Header from '../components/Header.astro';

import type { ImageMetadata } from 'astro';

interface Props {
    title: string;
    description?: string;
    keywords?: string[];
    type?: 'website' | 'article' | 'profile';
    image?: string | ImageMetadata;
}

const { title, description = "Bozhidar's personal blog and thoughts", keywords = [], type = 'website', image } = Astro.props as Props;

const imageUrl = typeof image === 'string' ? image : image?.src;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="description" content={description} />
		{keywords.length > 0 && (
			<meta name="keywords" content={keywords.join(', ')} />
		)}
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<meta property="og:site_name" content="bozhidar.me" />
		<meta property="og:title" content={title} />
		<meta property="og:description" content={description} />
		<meta property="og:type" content={type} />
        {imageUrl && <meta property="og:image" content={imageUrl} />}
		<meta name="twitter:card" content="summary" />
		<meta name="twitter:title" content={title} />
		<meta name="twitter:description" content={description} />
        {imageUrl && <meta name="twitter:image" content={imageUrl} />}
		<title>{title}</title>
	</head>
	<body>
		<Header />
		<main>
			<slot />
		</main>
		<footer>
			<p>&copy; {new Date().getFullYear()} Bozhidar. All rights reserved.</p>
		</footer>
	</body>
</html>
<style is:global>
	:root {
		--text-primary: #1a1a1a;
		--text-secondary: #4a4a4a;
		--background: #ffffff;
		--accent: #3b82f6;
		--code-bg: #f6f8fa;
		--border-color: #eaeaea;
	}

	[data-theme="dark"] {
		--text-primary: #e1e1e1;
		--text-secondary: #a1a1a1;
		--background: #1a1a1a;
		--accent: #60a5fa;
		--code-bg: #2d2d2d;
		--border-color: #2d2d2d;
	}

	html {
		font-family: 'Inter', system-ui, sans-serif;
		background: var(--background);
		color: var(--text-primary);
	}

	body {
		max-width: 45rem;
		margin: 0 auto;
		padding: 2rem 1rem;
		line-height: 1.7;
	}

	main {
		margin: 2rem 0;
	}

	h1, h2, h3, h4, h5, h6 {
		line-height: 1.2;
		margin: 2rem 0 1rem;
	}

	footer {
		margin-top: 4rem;
		padding-top: 2rem;
		border-top: 1px solid var(--border-color);
		text-align: center;
		color: var(--text-secondary);
		font-size: 0.9rem;
	}

	/* Update code block styles for dark mode */
	pre {
		background: var(--code-bg) !important;
	}

	code {
		background: var(--code-bg) !important;
	}

	/* Smooth transitions for theme switching */
	html {
		transition: background-color 0.2s ease;
	}

	body {
		transition: color 0.2s ease;
	}
</style>
